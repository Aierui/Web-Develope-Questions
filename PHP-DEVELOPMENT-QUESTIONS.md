# PHP QUESTIONS

这里将会有 PHP 基础知识、数据库（MySql、NoSql）、分布式系统 等

> 待更新😢

> 总体来说，服务端研发涉及如下技术



- [基础基础](#1)

    - [PHP基础](#1.1)

    - [数据结构](#1.2)

    - [数据库原理](#1.3)

    - [操作系统(Linux)](#1.4)

- [编程能力](#2)

    - [C语言基础](#2.1)

    - [算法](#2.2)

- [扩展技术](#3) 

	- [MySQL](#3.1)

	- [Redis](#3.2)

	- [分布式系统](#3.3)





<h1 id="1">基础基础</h1>

<h2 id="1.1">PHP基础</h2>








<h2 id="1.2">数据结构</h2>

<h2 id="1.3">数据库原理</h2>

<h2 id="1.4">操作系统(Linux)</h2>








详情见： [OAuth 2.0 认证的原理与实践](https://waylau.com/principle-and-practice-of-oauth2/)


### 并发

> 死锁

```
	死锁是指多个进程因竞争系统资源或相互通信而处于永远阻塞状态，若无外力作用，这些进程都无法向前推进。

	死锁的原因主要是：（1） 因为系统资源不足。（2） 进程运行推进的顺序不合适。（3） 资源分配不当等。

	产生死锁的四个必要条件：（1） 互斥条件（2） 请求与保持条件（3） 不剥夺条件。（4） 循环等待条件

	避免死锁的一个著名的算法是 银行家算法

	银行家算法是一种最有代表性的避免死锁的算法。又被称为“资源分配拒绝”法。在避免死锁方法中允许进程动态地申请资源，但系统在进行资源分配之前，应先计算此次分配资源的安全性，若分配不会导致系统进入不安全状态，则分配，否则等待。为实现银行家算法，系统必须设置若干数据结构。

```

> 进程间(IPC)通信技术包括

```
	消息传递
	共享内存
	系统管道
	同步
	远程过程调用(RPC)
	socket
```

> 解决并发操作带来的数据不一致性问题，一般采用的方法是？

```
	封锁
```


> 哪些可以用于Linux进程间通讯?
```
管道及(pipe)有名管道
信号（signal）                
报文队列
共享内存
信号量(semaphore)
套接字（socket）
```




> 共享内存 、信号量、


同步机制应该遵循的基本准则 
· 空闲让进：当无进程处于临界区时，表明临界资源处于空闲状态，允许一个请求进入临界区的进程立即进入临界区，以有效利用临界资源
 · 忙则等待：当已有进程处于临界区时，表明临界资源正在被访问，因而其他试图进入临界区的进程必须等待，以保证对临界资源的互斥访问
 · 有限等待：对要求访问临界资源的进程，应保证在有限时间内能进入自己的临界区，以免陷入“死等”状态
 · 让权等待：当进程不能进入自己的临界区时，应立即释放处理机，以免进程陷入“忙等”状态






进程是资源分配和拥有的单位,同一个进程内的线程共享进程的资源、
线程作为调度和分配的基本单位，进程作为拥有资源的基本单位
在同一进程中的各个线程，才可以共享该进程所拥有的资源

> 轮询任务调度与抢占式任务调度的区别？

轮询调度优点是其简洁性，它无需记录当前所有连接的状态，所以它是一种无状态调度

抢占式调度实现相对较复杂

轮询调度算法的原理是每一次把来自用户的请求轮流分配给内部中的服务器，从1开始，直到N(内部服务器个数)，然后重新开始循环。
抢占式任务调度允许调度程序根据某种原则去暂停某个正在执行的进程，将已分配给该进程的处理机重新分配给另一进程。抢占方式的优点是，可以防止一个长进程长时间占用处理机，能为大多数进程提供更公平的服务，特别是能满足对响应时间有着较严格要求的实时任务的需求。
因为抢占式调度可能会暂停一些进程，需要记录进程的运行状态，较为复杂。轮询式只需要轮流分配资源，调度简单。


下列关于多线程，多进程，多任务的区别与关系描述正确的有？
  线程是指进程内的一条执行线路，或者说是进程中可执行代码的单独单元，它是操作系统的基本调度单元。
  一个进程至少有一个线程，即主线程，也可以有多个线程协同工作。
  进程从主线程开始执行，进而可以创建一个或多个附加线程来执行该进程内的并发任务，这就是基于线程的多任务。



Linux操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性。 
1.交互进程——由一个shell启动的进程。交互进程既可以在前台运行，也可以在后台运行。 
2.批处理进程——这种进程和终端没有联系，是一个进程序列。 
3.监控进程（也称守护进程）——Linux系统启动时启动的进程，并在后台运行。


777 

组外、所有者、组内

三段权限分别为：用户，组内成员，其余用户。
权限：r：4，w：2，x:1

Umask是设置系统创建文件时的默认权限，是创建文件权限补码，对文件来说最大值是6
Umask设为为244，则创建的文件默认权限是422，文件的第一位是‘-’也就是-r---w--w-



###
linux下查看当前网络连接的命令。

netstat


linux下查看磁盘挂载状态的命令式？mount






Linux命令行下如何查找列出/usr/local这个目录下所有包含字符mrtg的文件?
grep -Rn "mrtg" /usr/local



若一台计算机的内存为128MB，则交换分区的大小通常是 。 256MB

关闭linux系统（不重新启动）可使用命令。halt halt就是调用shutdown -h

关机命令有halt init 0 poweroff   shutdown -h 时间，其中shutdown是最安全的
重启命令有reboot, init 6, shutdow -r 时间




建立动态路由需要用到的文件有（）




Linux用户分为：拥有者、组群(Group)、其他（other）
linux中的文件属性过分四段，如  -rwzrwz---
第一段  -  是指文件类型 表示这是个普通文件
文件类型部分
-为：表示文件
d为：表示文件夹
l为：表示链接文件，可以理解为 windows中的快捷方式（link file）

b为：表示里面可以供存储周边设备
c为：表示里面为一次性读取装置
 
第二段  rwz  是指拥有者具有可读可写可执行的权限  
类似于windows中的所有者权限比如 administrator 对文件具有 修改、读取和执行权限
 
第三段  rwz 是指所属于这个组的成员对于这个文件具有，可读可写可执行的权限      
类似于windows中的组权限比如administrators组，属于这个组的成员对于文件的都有 可读可写可执行权限
 
第四段  --- 是指其他人对于这个文件没有任何权限
类似于windows中的 anyone 一样就是说所有人对着个文件都会有一个怎样的权限.


文件系统元数据的 ？


sed命令


在使用mkdir命令创建新的目录时，在其父目录不存在时先创建父目录的选项是 mkdir -p /test/test/demo






在Linux中，每个打开的文件被赋予一个文件描述符(file descriptor)，包括标准输入（stdin），标准输出（stdout）和标准错误输出（stderr），由0,1,2分别描述。

command &> file 表示将标准输出（stdout）和标准错误输出（stderr）重定向至指定的文件file中。 

语法错误。正确的语法是M >& N，M和N都是文件描述符，M在不指定的情况下默认是文件描述符1。

command > file 2>&1，是由两部分组成。首先command>file表示将标准输出（stdout）重定向到文件file中。接下来的2>&1表示将标准错误输出（stderr）输出到文件描述符1指定的位置，即标准输出（stdout）的位置，由于标准输出已经冲定向到文件file中，所以标准错误输出也会重定向到文件file中。

command 2> file 1> file，也可看成是由两部分组成。首先command 2> file，表示将标准错误输出（stderr）重定向到文件file中；1> file，表示将标准输出（stdout）重定向到文件file中。 最终的file中不会包含标准错误输出（stderr）的信息，因为会被之后的标准输出（stdout）覆盖。


stdout（标准输出），输出方式是行缓冲输出的字符会先存放在缓冲区，等按下回车键时才进行实际的I/O操作。 
stderr（标准错误），是不带缓冲的，这使得出错信息可以直接尽快地显示出来。


管道符 | 





以下哪些命令可以查看当前系统的启动时间（）
w、top、uptime


进程由哪几部分组成？

　　①程序。作用：描述进程要完成的功能。

　　②数据集合。作用：程序在执行时所需要的数据和工作区。

　　③程序控制块PCB。作用：包含进程的描述信息和控制信息。它是进程存在的唯一标志。


1.查询中用到的关键词主要包含六个，并且他们的顺序依次为 
select--from--where--group by--having--order by  
其中select和from是必须的，其他关键词是可选的，这六个关键词的执行顺序 
与sql语句的书写顺序并不是一样的，
而是按照下面的顺序来


执行 
from--where--group by--having--select--order by, 

from:需要从哪个数据表检索数据  
where:过滤表中数据的条件 
group by:如何将上面过滤出的数据分组 
having:对上面已经分组的数据进行过滤的条件  
select:查看结果集中的哪个列，或列的计算结果 
order by :按照什么样的顺序来查看返回的数据 



/etc/hosts 设定用户自已的IP与名字的对应表
/etc/gateways 设定路由器 
/etc/resolv.conf    设置DNS 

